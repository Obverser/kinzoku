// This file is automatically generated from wgpu's C headers. Do not
// edit this file directly. Edit the corresponding generator instead.

public final class KZBuffer {
    var c: WGPUBuffer

    init(_ c: WGPUBuffer) {
        self.c = c
    }

    public func destroy() {
        return wgpuBufferDestroy(c)
    }

    public func getConstMappedRange<T>(offset: Int = 0, size: Int) -> UnsafePointer<T>? {
        let result = wgpuBufferGetConstMappedRange(c, offset, size)
        return result?.bindMemory(to: T.self, capacity: 1)
    }

    public func getMappedRange<T>(offset: Int = 0, size: Int) -> UnsafeMutablePointer<T>? {
        let result = wgpuBufferGetMappedRange(c, offset, size)
        return result?.bindMemory(to: T.self, capacity: 1)
    }

    public func mapAsync(mode: KZMapMode, offset: Int = 0, size: Int, callback: WGPUBufferMapCallback = { _, _ in }, userData: UnsafeMutableRawPointer? = nil) {
        return wgpuBufferMapAsync(c, mode.c.rawValue, offset, size, callback, userData)
    }

    public func setLabel(_ label: String) {
        return wgpuBufferSetLabel(c, label)
    }

    public func unmap() {
        return wgpuBufferUnmap(c)
    }

    deinit {
        return wgpuBufferDrop(c)
    }
}

public final class KZCommandBuffer {
    var c: WGPUCommandBuffer

    init(_ c: WGPUCommandBuffer) {
        self.c = c
    }

    public func setLabel(_ label: String) {
        return wgpuCommandBufferSetLabel(c, label)
    }
}

public struct KZConstantEntry {
    var c: WGPUConstantEntry

    init(_ c: WGPUConstantEntry) {
        self.c = c
    }

    public init(nextInChain: UnsafePointer<WGPUChainedStruct>? = nil, key: String, value: Double) {
        self.c = WGPUConstantEntry(nextInChain: nextInChain, key: strdup(key), value: value)
    }
}

public struct KZVertexBufferLayout {
    var c: WGPUVertexBufferLayout

    init(_ c: WGPUVertexBufferLayout) {
        self.c = c
    }

    public init(arrayStride: UInt64, stepMode: KZVertexStepMode, attributeCount: UInt32, attributes: UnsafePointer<WGPUVertexAttribute>?) {
        self.c = WGPUVertexBufferLayout(arrayStride: arrayStride, stepMode: stepMode.c, attributeCount: attributeCount, attributes: attributes)
    }
}

public struct KZVertexState {
    var c: WGPUVertexState

    init(_ c: WGPUVertexState) {
        self.c = c
    }

    public init(nextInChain: UnsafePointer<WGPUChainedStruct>? = nil, module: WGPUShaderModule, entryPoint: String, constantCount: UInt32, constants: UnsafePointer<WGPUConstantEntry>?, bufferCount: UInt32, buffers: UnsafePointer<WGPUVertexBufferLayout>?) {
        self.c = WGPUVertexState(nextInChain: nextInChain, module: module, entryPoint: strdup(entryPoint), constantCount: constantCount, constants: constants, bufferCount: bufferCount, buffers: buffers)
    }
}
